import styles from "./page.module.css";

type Subsection = {
  heading: string;
  paragraphs?: string[];
  bullets?: string[];
};

type Section = {
  id: string;
  title: string;
  intro?: string;
  paragraphs?: string[];
  bullets?: string[];
  subsections?: Subsection[];
  findings?: string[];
};

const keywords = [
  "البعثات الدبلوماسية",
  "البعثات القنصلية",
  "الحماية الدبلوماسية",
  "القانون الدولي العام",
  "العلاقات الدولية",
];

const sections: Section[] = [
  {
    id: "abstract",
    title: "ملخص البحث",
    paragraphs: [
      "يتناول هذا البحث الدور المحوري الذي تضطلع به البعثات الدبلوماسية والقنصلية في أعمال الحماية الدبلوماسية، باعتبارها آلية أساسية تُمكّن الدولة من حماية حقوق مواطنيها في الخارج. اعتمدت الدراسة منهجية علمية تجمع بين التحليل القانوني والنظري والتتبع المقارن للممارسات العملية، بهدف إبراز الحدود الفاصلة بين الوظائف السياسية والقانونية لهذه البعثات، وتحديد الممارسات الفضلى التي تعزز فاعليتها.",
      "وقد خلص البحث إلى أن التكامل المؤسسي بين السفارات والقنصليات، مقروناً بأطر قانونية واضحة للتنسيق مع السلطات المركزية، يشكل شرطاً لازماً لتفعيل الحماية الدبلوماسية بصورة مهنية ومستدامة.",
    ],
  },
  {
    id: "introduction",
    title: "مقدمة",
    paragraphs: [
      "أصبحت الحماية الدبلوماسية أداة رئيسة في يد الدول للدفاع عن حقوق مواطنيها وشركاتها في الخارج أمام الانتهاكات التي قد يتعرضون لها من قبل دول أخرى. وتعد البعثات الدبلوماسية والقنصلية الحلقة التنفيذية الأولى لهذه الآلية، نظراً لما تملكه من حضور ميداني وقنوات اتصال مباشرة مع سلطات الدولة المضيفة.",
      "ورغم التطور الكبير في القانون الدولي، ما زالت الممارسات العملية تكشف عن فجوات في استجابة البعثات للأزمات الحقوقية التي يواجهها المواطنون. ومن هنا تبرز أهمية هذا البحث الذي يسعى إلى تقديم قراءة علمية منهجية للوظائف الدبلوماسية والقنصلية في مجال الحماية، وتحليل التحديات التي تعترضها، واقتراح مسارات للتطوير المؤسسي.",
    ],
  },
  {
    id: "methodology",
    title: "الإطار المنهجي",
    paragraphs: [
      "استند البحث إلى منهجية تحليلية وصفية ذات طابع تفسيري، انطلقت من صياغة إشكالية مركزية مفادها: كيف يمكن للبعثات الدبلوماسية والقنصلية تعظيم مساهمتها في حماية مواطني الدولة في الخارج ضمن الإطار القانوني الدولي؟",
      "وانطلاقاً من هذه الإشكالية تم تحديد الأسئلة الفرعية التالية:",
    ],
    bullets: [
      "ما الأساس القانوني الذي تستند إليه ممارسة الحماية الدبلوماسية؟",
      "كيف تتوزع الأدوار بين البعثات الدبلوماسية والقنصلية في هذا المجال؟",
      "ما أبرز التحديات العملية التي تواجه تفعيل الحماية الدبلوماسية؟",
      "ما الإجراءات المقترحة لتحسين فاعلية هذه الحماية على المستويين الوطني والدولي؟",
    ],
    subsections: [
      {
        heading: "أدوات البحث",
        paragraphs: [
          "تم الاعتماد على تحليل وثائقي للاتفاقيات الدولية ذات الصلة، وفي مقدمتها اتفاقية فيينا للعلاقات الدبلوماسية لعام 1961 واتفاقية فيينا للعلاقات القنصلية لعام 1963، بالإضافة إلى اجتهادات محكمة العدل الدولية وقواعد لجنة القانون الدولي. كما استعانت الدراسة بمقارنة تجارب بعض الدول التي طورت وحدات متخصصة في الحماية القنصلية.",
        ],
      },
      {
        heading: "حدود الدراسة",
        paragraphs: [
          "تغطي الدراسة الفترة الممتدة من 2010 إلى 2024، مع التركيز على الحالات التي تتطلب تدخلاً دبلوماسياً في مواجهة انتهاكات حقوق الإنسان أو الإخلال بالالتزامات التعاقدية تجاه المستثمرين. وتم استبعاد الحالات المتعلقة بالأعمال العسكرية أو النزاعات المسلحة حفاظاً على تماسك الإطار المعتمد.",
        ],
      },
    ],
  },
  {
    id: "theory",
    title: "الإطار النظري",
    intro:
      "يقوم بناء الحماية الدبلوماسية على أساس قانوني دولي متماسك، مستند إلى عناصر ثلاث: الشخصية القانونية للدولة، الرابطة القانونية بين الدولة والفرد، وإخلال الدولة الأجنبية بالتزام دولي.",
    subsections: [
      {
        heading: "أولاً: مفهوم الحماية الدبلوماسية",
        paragraphs: [
          "تعرف الحماية الدبلوماسية بأنها حق سيادي تمارسه الدولة نيابة عن مواطنيها عندما يتعرضون لضرر ينسب إلى دولة أخرى. ويتطلب تفعيل هذا الحق استنفاد المواطن لطرق الانتصاف المحلية، ما يضع البعثة الدبلوماسية أمام مسؤولية متابعة الإجراءات القضائية والإدارية في الدولة المضيفة.",
        ],
      },
      {
        heading: "ثانياً: الإطار القانوني المنظم",
        paragraphs: [
          "تنص اتفاقية فيينا للعلاقات الدبلوماسية على واجب الدولة المضيفة حماية مباني البعثة وضمان حرية الاتصال بها، ما يوفر أساساً عملياً لتقديم الدعم للمواطنين. أما الاتفاقية القنصلية فتمنح القناصل حق الاتصال بالمواطنين الموقوفين ومتابعة أوضاعهم القانونية، وهو ما يعد مدخلاً محورياً للحماية.",
        ],
        bullets: [
          "مبدأ عدم التدخل يفرض على البعثة التزاماً بالتوازن بين الدفاع عن المواطنين واحترام سيادة الدولة المضيفة.",
          "تؤكد لجنة القانون الدولي على أن الدولة المحتجِزة مسؤولة عن أي ضرر يلحق بالمواطن إذا أخلت بالتزاماتها الدولية، ما يفتح الباب أمام المطالبة بالتعويض.",
        ],
      },
      {
        heading: "ثالثاً: التمايز المؤسسي بين السفارة والقنصلية",
        paragraphs: [
          "تضطلع السفارة بالشق السياسي والتنسيقي للحماية، من خلال التواصل مع وزارة الخارجية للدولة المضيفة ورفع التقارير إلى مركز القرار في الدولة الموفدة. بينما تتولى القنصلية الجانب التنفيذي الذي يلامس احتياجات المواطنين مباشرة، كالمرافقة القانونية وتيسير الوصول إلى خدمات الترجمة أو التواصل مع العائلات.",
        ],
      },
    ],
  },
  {
    id: "analysis",
    title: "التحليل التطبيقي",
    intro:
      "أظهرت دراسة الحالات المقارنة أن نجاح الحماية الدبلوماسية يرتبط بثلاثة متغيرات: جاهزية البعثة، وسرعة التنسيق مع الأجهزة المركزية، ووضوح الأطر القانونية.",
    subsections: [
      {
        heading: "1. أدوار البعثات الدبلوماسية",
        bullets: [
          "بناء شبكات اتصال مؤسسية مع وزارات العدل والداخلية في الدولة المضيفة لاستباق الأزمات.",
          "إعداد ملفات حالة متكاملة تُرفع إلى وزارة الخارجية لتقييم إمكانية اللجوء للحماية الدبلوماسية.",
          "تقديم الدعم السياسي للتفاوض على إطلاق سراح المواطنين أو تسوية المنازعات الاستثمارية بطريقة ودية.",
        ],
      },
      {
        heading: "2. أدوار البعثات القنصلية",
        bullets: [
          "متابعة الإجراءات القانونية للمواطنين الموقوفين وضمان تمتعهم بالحقوق المكفولة في القانون المحلي.",
          "تقديم الدعم الإنساني وحل المشكلات اليومية، مثل إصدار وثائق السفر المؤقتة أو ترتيب العودة الطوعية.",
          "جمع الأدلة والمستندات التي تثبت وقوع الضرر ورفعها إلى السفارة والجهات المركزية لتأسيس ملف الحماية.",
        ],
      },
      {
        heading: "3. التحديات العملية",
        paragraphs: [
          "تواجه البعثات مجموعة من العوائق، أبرزها محدودية الموارد البشرية، وتعقيدات التنسيق متعدد المستويات، واختلاف الأطر القانونية الوطنية. كما قد يواجه الدبلوماسي قيوداً في الوصول إلى المواطن المحتجز بسبب عدم تعاون السلطات المحلية أو غياب اتفاقيات ثنائية منظمة.",
        ],
      },
    ],
  },
  {
    id: "findings",
    title: "النتائج والتوصيات",
    paragraphs: [
      "بيّن التحليل أن الاستثمار في القدرات المؤسسية للبعثات ينعكس مباشرة على جودة الحماية المقدمة للمواطنين. كما أظهرت الدراسة أن وجود بروتوكولات مشتركة بين السفارات والقنصليات يسهم في توحيد الإجراءات وتجنب ازدواجية الجهد.",
    ],
    findings: [
      "الحماية الدبلوماسية تتطلب انتقالاً من رد الفعل إلى الاستباق عبر نظم إنذار مبكر للأزمات.",
      "توحيد قواعد البيانات بين السفارة والقنصلية يمنح القدرة على تتبع حالات المواطنين في الزمن الحقيقي.",
      "التدريب الدوري للدبلوماسيين والقناصل على آليات حقوق الإنسان يعزز جاهزيتهم للتعامل مع الانتهاكات المعقدة.",
    ],
    subsections: [
      {
        heading: "توصيات",
        bullets: [
          "إنشاء وحدات متخصصة بالحماية القنصلية داخل وزارات الخارجية تتولى التنسيق الفوري مع البعثات.",
          "تحديث التشريعات الوطنية بما يحدد بوضوح سلطات البعثة وحدود تدخلها لضمان الحماية القانونية للدبلوماسيين.",
          "إبرام مذكرات تفاهم مع الدول المضيفة تتضمن بروتوكولات للتعامل مع حالات الاحتجاز أو خرق العقود الاستثمارية.",
          "تطوير منصات رقمية آمنة لتلقي طلبات المساعدة من المواطنين وتمكينهم من متابعة مسار المعالجة بشفافية.",
        ],
      },
    ],
  },
];

const references = [
  "اتفاقية فيينا للعلاقات الدبلوماسية، 1961.",
  "اتفاقية فيينا للعلاقات القنصلية، 1963.",
  "لجنة القانون الدولي، مشروع المواد حول الحماية الدبلوماسية، 2006.",
  "قضية برشلونة تراكشن (محكمة العدل الدولية، 1970) بشأن معيار الجنسية في الحماية الدبلوماسية.",
  "وزارة الخارجية الفرنسية، دليل الحماية القنصلية للمواطنين في الخارج، 2022.",
];

const metaCards = [
  {
    label: "الإشكالية البحثية",
    value:
      "كيف يمكن تعظيم دور البعثات في حماية مواطني الدولة ضمن الإطار القانوني الدولي؟",
  },
  {
    label: "هدف الدراسة الرئيس",
    value:
      "تحليل آليات عمل السفارات والقنصليات وتقديم نموذج تكاملي للحماية الدبلوماسية.",
  },
  {
    label: "منهجية البحث",
    value: "منهج تحليلي وصفي مدعم بالمقارنة القانونية ودراسة الحالات.",
  },
  {
    label: "الكلمات المفتاحية",
    value: keywords.join("، "),
  },
];

export default function Home() {
  return (
    <div className={styles.page}>
      <div className={styles.container}>
        <section className={styles.hero}>
          <span className={styles.badge}>بحث علمي أكاديمي</span>
          <h1 className={styles.title}>
            دور البعثات الدبلوماسية والقنصلية في أعمال الحماية الدبلوماسية
          </h1>
          <p className={styles.lead}>
            دراسة منهجية تستند إلى مرجعيات القانون الدولي وتستجلي آليات العمل
            الميداني للبعثات الدبلوماسية والقنصلية في حماية المواطنين بالخارج،
            مع تقديم توصيات عملية لتعزيز الفاعلية المؤسسية.
          </p>
          <div className={styles.metaGrid}>
            {metaCards.map((card) => (
              <div key={card.label} className={styles.metaCard}>
                <span className={styles.metaLabel}>{card.label}</span>
                <p className={styles.metaValue}>{card.value}</p>
              </div>
            ))}
          </div>
        </section>

        <div className={styles.layout}>
          <aside className={styles.toc}>
            <span className={styles.tocTitle}>خطة البحث</span>
            <ul className={styles.tocList}>
              {sections.map((section) => (
                <li key={section.id}>
                  <a className={styles.tocLink} href={`#${section.id}`}>
                    {section.title}
                  </a>
                </li>
              ))}
            </ul>
          </aside>

          <div className={styles.sections}>
            {sections.map((section) => (
              <section
                key={section.id}
                id={section.id}
                className={styles.sectionCard}
              >
                <h2>{section.title}</h2>
                {section.intro && <p>{section.intro}</p>}
                {section.paragraphs?.map((paragraph, index) => (
                  <p key={index}>{paragraph}</p>
                ))}
                {section.bullets && (
                  <ul>
                    {section.bullets.map((bullet) => (
                      <li key={bullet}>{bullet}</li>
                    ))}
                  </ul>
                )}
                {section.subsections?.map((subsection) => (
                  <div key={subsection.heading}>
                    <h3>{subsection.heading}</h3>
                    {subsection.paragraphs?.map((paragraph, index) => (
                      <p key={index}>{paragraph}</p>
                    ))}
                    {subsection.bullets && (
                      <ul>
                        {subsection.bullets.map((bullet) => (
                          <li key={bullet}>{bullet}</li>
                        ))}
                      </ul>
                    )}
                  </div>
                ))}
                {section.findings && (
                  <div className={styles.keyFindings}>
                    {section.findings.map((finding) => (
                      <div key={finding} className={styles.finding}>
                        {finding}
                      </div>
                    ))}
                  </div>
                )}
              </section>
            ))}

            <section className={styles.references}>
              <h2>المراجع</h2>
              <ol>
                {references.map((reference) => (
                  <li key={reference}>{reference}</li>
                ))}
              </ol>
            </section>
          </div>
        </div>
      </div>
    </div>
  );
}
